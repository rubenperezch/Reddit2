<!DOCTYPE html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Main Page</title>

</head>
<body>



<h2 th:text="'You are logged as ' +${user.username}"></h2>

<table style="float:top">
    <tr>
        <th>Post title</th>
        <th>URL</th>
        <th>Posted by</th>
        <th>Score</th>
    </tr>
    <div th:each="post : ${posts}" th:object="${post}">
        <tr>
            <td>
                <a th:text="*{title}"></a>
            </td>
            <td>
                <a th:text="*{url}"></a>
            </td>
            <td>
                <a th:text="*{user.username}"></a>
            </td>
            <td>
                <a th:text="*{score}"></a>
            </td>
            <td>
                <button type="button" th:onclick="|window.location.href='/plus/'+${post.id}+'/'+${user.id}|">+</button></td>
            </td>
            <td>
                <button type="button" th:onclick="|window.location.href='/minus/'+${post.id}+'/'+${user.id}|">-</button></td>
            </td>
        </tr>
    </div>
</table>

<h3>Post New</h3>
<div>
    <form th:action = "@{/user/{id}(id=${user.id})}" action = "#" method = "post">
        <div class = "input-field">
            <label for ="title">Title:</label>
            <input type="title" id = "title" name = "title">
        </div>
        <div class = "input-field">
            <label for ="url">Url:</label>
            <input type="url" id = "url" name = "url">
        </div>
        <div class = "input-field">
            <input type = "submit" value = "POST">
        </div>
    </form>
</div>

</form>


</body>
</html>